<!DOCTYPE html>

<head>
    <title>Java Script</title>
    <!-- <style>

    </style> -->
</head>

<body>
    <div><button onclick="inputAmount(500);">500원 투입</button></div>
    <div>
        <label>투입금액</label><input type="text" name="" id="total_input_amount" value="0" readonly>
        <lable>음료자판기 잔돈</lable><input type="text" name="" id="total_vending_amount" value="0" readonly>
        <label>내지갑</label><input type="text" name="" id="total_customer_amount" Value="10000" readonly>
    </div>
    <div><button onclick="requestDrink(1);" id="btnDrink1">코카콜라(700원, 재고수<span id="drink_stock1">5</span></button></div>
    <i id="elm">how</i>

    <!-- 여기에 다 넣을꺼야! -->
    <div id="output" style="width:70%;height:150px;overflow-y: auto;border:2px solid #222;"></div>
    <script>
        let total_vending_amount = 1000; //음료자판기 잔돈
        let total_customer_amount = 10000;
        let total_input_amount = 0;


        var elm = document.getElementById('elm');
        elm.insertAdjacentHTML('beforebegin', 'HEy-i\'m first<br>');
        elm.insertAdjacentHTML('afterbegin', 'jaehee-');

        let drinkList = [{
                drinkId: "1",
                drinkName: "코카콜라",
                price: 700,
                stock: 5
            },
            {
                drinkId: "2",
                drinkName: "오렌지주스",
                price: 1200,
                stock: 5
            },
            {
                drinkId: "3",
                drinkName: "커피",
                price: 500,
                stock: 5
            },
            {
                drinkId: "4",
                drinkName: "물",
                price: 700,
                stock: 5
            },
            {
                drinkId: "5",
                drinkName: "보리차",
                price: 1200,
                stock: 5
            },
            {
                drinkId: "6",
                drinkName: "포카리",
                price: 1000,
                stock: 5
            },
            {
                drinkId: "7",
                drinkName: "뽀로로",
                price: 1300,
                stock: 5
            }
        ];

        function inputAmount(amount) {
            console.log('inputAmount함수들어옴amount', amount);
            var output = document.getElementById("output");

            if (amount <= total_customer_amount) {
                console.log('if문들어온 amount:', amount);
                total_input_amount += amount;
                console.log('if문들어온 amount:', total_input_amount);

                for (var drink of drinkList) {
                    console.log(drink);


                    //drink.price가 total_input_amount가 크거나 같을때 , 
                    if (drink.price <= total_input_amount) {
                        console.log(document.getElementById("btnDrink" + drink.drinkId))

                        document.getElementById("btnDrink" + drink.drinkId).style.backgroundColor = "yellow";
                    }
                }

                document.getElementById("total_input_amount").value = total_input_amount;

                output.insertAdjacentHTML("beforeend", `<p>${amount}이 투입되었습니다.</p>`);


            }
        }
    </script>
</body>

</html>